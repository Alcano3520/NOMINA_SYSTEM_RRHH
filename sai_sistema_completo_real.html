<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAI - Sistema Administrativo Integral | INSEVIG CIA. LTDA</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .company-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .company-logo {
            width: 50px;
            height: 50px;
            background: #fff;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #1e3c72;
            font-size: 18px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 14px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1e3c72;
        }

        .main-container {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .sidebar {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 20px;
            height: fit-content;
        }

        .sidebar h3 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 18px;
            border-bottom: 2px solid #e1e5e9;
            padding-bottom: 10px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 8px;
        }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: #4a5568;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-menu a:hover, .nav-menu a.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateX(5px);
        }

        .nav-menu i {
            width: 20px;
            text-align: center;
        }

        .content-area {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 25px;
            min-height: 600px;
        }

        .content-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e1e5e9;
        }

        .content-title {
            color: #1e3c72;
            font-size: 24px;
            font-weight: 600;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }

        .stat-card h4 {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-change {
            font-size: 12px;
            opacity: 0.8;
        }

        .employee-search {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            align-items: end;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 12px;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-control {
            padding: 10px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
        }

        .employee-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .employee-table th,
        .employee-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .employee-table th {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .employee-table tbody tr:hover {
            background: #f8fafc;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .status-vacation {
            background: #fff3cd;
            color: #856404;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
        }

        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
            border-radius: 4px;
        }

        .payroll-section {
            margin-top: 30px;
        }

        .payroll-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .payroll-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .payroll-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .payroll-card h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .feature-list {
            list-style: none;
        }

        .feature-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #4a5568;
        }

        .feature-list i {
            color: #48bb78;
            width: 16px;
        }

        .compliance-panel {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .compliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .compliance-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .compliance-item h5 {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .compliance-value {
            font-size: 18px;
            font-weight: 700;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e1e5e9;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .employee-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .detail-group {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
        }

        .detail-group h5 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: #4a5568;
            font-size: 13px;
        }

        .detail-value {
            color: #2d3748;
            font-size: 13px;
        }

        .employee-profile {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .profile-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            border: 4px solid rgba(255,255,255,0.3);
        }

        .profile-info {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .info-section {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .info-section h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .payslip-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .payslip-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .payslip-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e2e8f0;
        }

        .payslip-period {
            font-weight: 600;
            color: #1e3c72;
            font-size: 16px;
        }

        .payslip-amount {
            font-size: 18px;
            font-weight: 700;
            color: #48bb78;
        }

        .payslip-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .detail-box {
            background: #f8fafc;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .detail-box-label {
            font-size: 11px;
            color: #4a5568;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .detail-box-value {
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
        }

        .request-form {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .request-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .textarea-control {
            min-height: 100px;
            resize: vertical;
        }

        .document-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .document-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .document-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .document-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .kpi-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .org-chart {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-align: center;
        }

        .org-level {
            margin-bottom: 30px;
        }

        .org-box {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            margin: 0 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .org-box h4 {
            font-size: 14px;
            margin-bottom: 5px;
        }

        .org-box p {
            font-size: 12px;
            opacity: 0.9;
        }

        .time-tracking {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .time-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .time-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .time-clock {
            font-size: 24px;
            font-weight: 700;
            color: #1e3c72;
        }

        .time-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-in {
            background: #d4edda;
            color: #155724;
        }

        .status-out {
            background: #f8d7da;
            color: #721c24;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 25px;
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #4a5568;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: 2;
            }

            .content-area {
                order: 1;
            }

            .search-form {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="company-info">
                <div class="company-logo">SAI</div>
                <div>
                    <h1 style="font-size: 20px; margin-bottom: 2px;">Sistema Administrativo Integral</h1>
                    <p style="font-size: 14px; opacity: 0.9;">INSEVIG CIA. LTDA - Recursos Humanos y Nómina</p>
                </div>
            </div>
            <div class="user-info">
                <div>
                    <div style="font-weight: 600;">Henry Pozo</div>
                    <div style="opacity: 0.8;">Administrador RRHH</div>
                </div>
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="dashboard-grid">
            <nav class="sidebar">
                <h3><i class="fas fa-users"></i> Módulos RRHH</h3>
                <ul class="nav-menu">
                    <li><a href="#" class="active" onclick="showSection('empleados')"><i class="fas fa-users"></i> Empleados</a></li>
                    <li><a href="#" onclick="showSection('nomina')"><i class="fas fa-money-bill-wave"></i> Nómina</a></li>
                    <li><a href="#" onclick="showSection('decimos')"><i class="fas fa-gift"></i> Décimos</a></li>
                    <li><a href="#" onclick="showSection('vacaciones')"><i class="fas fa-plane"></i> Vacaciones</a></li>
                    <li><a href="#" onclick="showSection('liquidaciones')"><i class="fas fa-calculator"></i> Liquidaciones</a></li>
                    <li><a href="#" onclick="showSection('reportes')"><i class="fas fa-chart-bar"></i> Reportes</a></li>
                    <li><a href="#" onclick="showSection('configuracion')"><i class="fas fa-cog"></i> Configuración</a></li>
                </ul>

                <h3 style="margin-top: 30px;"><i class="fas fa-shield-alt"></i> Seguridad</h3>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showSection('departamentos')"><i class="fas fa-building"></i> Departamentos</a></li>
                    <li><a href="#" onclick="showSection('turnos')"><i class="fas fa-clock"></i> Turnos</a></li>
                    <li><a href="#" onclick="showSection('equipos')"><i class="fas fa-hard-hat"></i> Equipos</a></li>
                    <li><a href="#" onclick="showSection('clientes')"><i class="fas fa-handshake"></i> Clientes</a></li>
                </ul>

                <h3 style="margin-top: 30px;"><i class="fas fa-user-circle"></i> Portal Empleado</h3>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showSection('mi-perfil')"><i class="fas fa-user"></i> Mi Perfil</a></li>
                    <li><a href="#" onclick="showSection('mis-recibos')"><i class="fas fa-file-invoice"></i> Mis Recibos</a></li>
                    <li><a href="#" onclick="showSection('solicitudes')"><i class="fas fa-paper-plane"></i> Solicitudes</a></li>
                    <li><a href="#" onclick="showSection('documentos')"><i class="fas fa-folder"></i> Documentos</a></li>
                </ul>

                <h3 style="margin-top: 30px;"><i class="fas fa-chart-line"></i> Análisis</h3>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showSection('dashboard-ejecutivo')"><i class="fas fa-tachometer-alt"></i> Dashboard Ejecutivo</a></li>
                    <li><a href="#" onclick="showSection('organigrama')"><i class="fas fa-sitemap"></i> Organigrama</a></li>
                    <li><a href="#" onclick="showSection('control-tiempo')"><i class="fas fa-stopwatch"></i> Control Tiempo</a></li>
                </ul>

                <h3 style="margin-top: 30px;"><i class="fas fa-database"></i> Base de Datos</h3>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showSection('rpemplea')"><i class="fas fa-table"></i> RPEMPLEA</a></li>
                    <li><a href="#" onclick="showSection('rphistor')"><i class="fas fa-history"></i> RPHISTOR</a></li>
                    <li><a href="#" onclick="showSection('rpcontrl')"><i class="fas fa-sliders-h"></i> RPCONTRL</a></li>
                </ul>
            </nav>

            <main class="content-area">
                <div id="empleados-section">
                    <div class="content-header">
                        <h2 class="content-title">Gestión de Empleados</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="openModal('employeeModal')">
                                <i class="fas fa-plus"></i> Nuevo Empleado
                            </button>
                            <button class="btn btn-success" onclick="processMassiveOperation('import')">
                                <i class="fas fa-upload"></i> Carga Masiva
                            </button>
                            <button class="btn btn-warning" onclick="processMassiveOperation('corrections')">
                                <i class="fas fa-edit"></i> Correcciones Masivas
                            </button>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Total Empleados Activos</h4>
                            <div class="stat-value">847</div>
                            <div class="stat-change">+12 este mes</div>
                        </div>
                        <div class="stat-card">
                            <h4>Guardias de Seguridad</h4>
                            <div class="stat-value">623</div>
                            <div class="stat-change">73.6% del total</div>
                        </div>
                        <div class="stat-card">
                            <h4>Personal Administrativo</h4>
                            <div class="stat-value">224</div>
                            <div class="stat-change">26.4% del total</div>
                        </div>
                        <div class="stat-card">
                            <h4>En Vacaciones</h4>
                            <div class="stat-value">34</div>
                            <div class="stat-change">4.0% del total</div>
                        </div>
                    </div>

                    <div class="compliance-panel">
                        <h3><i class="fas fa-shield-alt"></i> Cumplimiento Ecuador - Sector Seguridad</h3>
                        <div class="compliance-grid">
                            <div class="compliance-item">
                                <h5>Aportaciones IESS</h5>
                                <div class="compliance-value">100%</div>
                            </div>
                            <div class="compliance-item">
                                <h5>Décimo Tercer Sueldo</h5>
                                <div class="compliance-value">Al día</div>
                            </div>
                            <div class="compliance-item">
                                <h5>Décimo Cuarto Sueldo</h5>
                                <div class="compliance-value">Al día</div>
                            </div>
                            <div class="compliance-item">
                                <h5>Fondos de Reserva</h5>
                                <div class="compliance-value">Calculado</div>
                            </div>
                            <div class="compliance-item">
                                <h5>Vacaciones Pagadas</h5>
                                <div class="compliance-value">95.2%</div>
                            </div>
                            <div class="compliance-item">
                                <h5>Horas Extras Reguladas</h5>
                                <div class="compliance-value">Controlado</div>
                            </div>
                        </div>
                    </div>

                    <div class="employee-search">
                        <form class="search-form">
                            <div class="form-group">
                                <label>Código Empleado</label>
                                <input type="text" class="form-control" placeholder="Ej: 001001">
                            </div>
                            <div class="form-group">
                                <label>Nombres / Apellidos</label>
                                <input type="text" class="form-control" placeholder="Buscar por nombre">
                            </div>
                            <div class="form-group">
                                <label>Departamento</label>
                                <select class="form-control">
                                    <option value="">Todos</option>
                                    <option value="001">Seguridad Empresarial</option>
                                    <option value="002">Seguridad Residencial</option>
                                    <option value="003">Seguridad Bancaria</option>
                                    <option value="004">Administración</option>
                                    <option value="005">Recursos Humanos</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sección</label>
                                <select class="form-control">
                                    <option value="">Todas</option>
                                    <option value="GUA">Guardias</option>
                                    <option value="SUP">Supervisores</option>
                                    <option value="ADM">Administrativo</option>
                                    <option value="VEN">Ventas</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Estado</label>
                                <select class="form-control">
                                    <option value="">Todos</option>
                                    <option value="ACT">Activo</option>
                                    <option value="VAC">Vacaciones</option>
                                    <option value="LIC">Licencia</option>
                                    <option value="RET">Retirado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-primary" onclick="searchEmployees()">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                            </div>
                        </form>
                    </div>

                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th>Empleado</th>
                                <th>Nombres y Apellidos</th>
                                <th>Cédula</th>
                                <th>Cargo</th>
                                <th>Departamento</th>
                                <th>Sueldo</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <tr onclick="showEmployeeDetails('001001')">
                                <td>001001</td>
                                <td>GONZÁLEZ MARÍA ELENA</td>
                                <td>1234567890</td>
                                <td>Guardia de Seguridad</td>
                                <td>Seguridad Empresarial</td>
                                <td>$460.00</td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-sm btn-primary" onclick="openModal('employeeModal')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-secondary" onclick="printEmployeeReport('001001')">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr onclick="showEmployeeDetails('001002')">
                                <td>001002</td>
                                <td>PÉREZ CARLOS ALBERTO</td>
                                <td>0987654321</td>
                                <td>Supervisor de Turno</td>
                                <td>Seguridad Empresarial</td>
                                <td>$650.00</td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-secondary">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr onclick="showEmployeeDetails('002001')">
                                <td>002001</td>
                                <td>RODRÍGUEZ ANA LUCÍA</td>
                                <td>1122334455</td>
                                <td>Guardia Residencial</td>
                                <td>Seguridad Residencial</td>
                                <td>$460.00</td>
                                <td><span class="status-badge status-vacation">Vacaciones</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-secondary">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr onclick="showEmployeeDetails('004001')">
                                <td>004001</td>
                                <td>MORALES JUAN CARLOS</td>
                                <td>5566778899</td>
                                <td>Asistente Administrativo</td>
                                <td>Administración</td>
                                <td>$520.00</td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-secondary">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr onclick="showEmployeeDetails('005001')">
                                <td>005001</td>
                                <td>TORRES PATRICIA ISABEL</td>
                                <td>6677889900</td>
                                <td>Analista de RRHH</td>
                                <td>Recursos Humanos</td>
                                <td>$720.00</td>
                                <td><span class="status-badge status-active">Activo</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-secondary">
                                            <i class="fas fa-print"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="nomina-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Procesamiento de Nómina</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="executeStoredProcedure('SP_RP_PREPARA_ROL')">
                                <i class="fas fa-play"></i> Preparar Rol
                            </button>
                            <button class="btn btn-success" onclick="generatePayroll()">
                                <i class="fas fa-money-bill-wave"></i> Generar Nómina
                            </button>
                            <button class="btn btn-warning" onclick="showMassiveCorrections()">
                                <i class="fas fa-edit"></i> Correcciones Masivas
                            </button>
                        </div>
                    </div>

                    <div class="payroll-section">
                        <div class="payroll-grid">
                            <div class="payroll-card">
                                <h4><i class="fas fa-calendar-week"></i> Nómina Semanal</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-check"></i> 623 empleados de seguridad</li>
                                    <li><i class="fas fa-check"></i> Tipo de pago: 1 (Semanal)</li>
                                    <li><i class="fas fa-check"></i> Incluye horas extras</li>
                                    <li><i class="fas fa-check"></i> Control de asistencia</li>
                                    <li><i class="fas fa-check"></i> Descuentos automáticos</li>
                                </ul>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                    Procesar Semanal
                                </button>
                            </div>

                            <div class="payroll-card">
                                <h4><i class="fas fa-calendar-alt"></i> Nómina Quincenal</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-check"></i> Personal administrativo</li>
                                    <li><i class="fas fa-check"></i> Tipo de pago: 2 (Quincenal)</li>
                                    <li><i class="fas fa-check"></i> Bonificaciones incluidas</li>
                                    <li><i class="fas fa-check"></i> Comisiones de ventas</li>
                                    <li><i class="fas fa-check"></i> Fondos de reserva</li>
                                </ul>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                    Procesar Quincenal
                                </button>
                            </div>

                            <div class="payroll-card">
                                <h4><i class="fas fa-calendar"></i> Nómina Mensual</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-check"></i> Gerencia y supervisión</li>
                                    <li><i class="fas fa-check"></i> Tipo de pago: 3 (Mensual)</li>
                                    <li><i class="fas fa-check"></i> Beneficios especiales</li>
                                    <li><i class="fas fa-check"></i> Compensaciones variables</li>
                                    <li><i class="fas fa-check"></i> Vacaciones pagadas</li>
                                </ul>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                    Procesar Mensual
                                </button>
                            </div>

                            <div class="payroll-card">
                                <h4><i class="fas fa-database"></i> Stored Procedures</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-cog"></i> SP_RP_PREPARA_ROL</li>
                                    <li><i class="fas fa-cog"></i> SP_RP_DATOS_EMPLEADO</li>
                                    <li><i class="fas fa-cog"></i> SP_RP_DECIMO_TERCER</li>
                                    <li><i class="fas fa-cog"></i> SP_RP_DECIMO_CUARTO_QUINTO</li>
                                    <li><i class="fas fa-cog"></i> SP_RP_PREPARA_VACA</li>
                                </ul>
                                <button class="btn btn-secondary" style="width: 100%; margin-top: 15px;">
                                    Ver Procedimientos
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="decimos-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Gestión de Décimos</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="calculateDecimos('13')">
                                <i class="fas fa-calculator"></i> Calcular Décimo 13°
                            </button>
                            <button class="btn btn-success" onclick="calculateDecimos('14')">
                                <i class="fas fa-calculator"></i> Calcular Décimo 14°
                            </button>
                            <button class="btn btn-warning" onclick="showDecimoHistory()">
                                <i class="fas fa-history"></i> Historial Décimos
                            </button>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Décimo Tercer Sueldo</h4>
                            <div class="stat-value">$426,847</div>
                            <div class="stat-change">Calculado hasta noviembre 2024</div>
                        </div>
                        <div class="stat-card">
                            <h4>Décimo Cuarto Sueldo</h4>
                            <div class="stat-value">$389,260</div>
                            <div class="stat-change">Basado en SBU $460</div>
                        </div>
                        <div class="stat-card">
                            <h4>Empleados Elegibles</h4>
                            <div class="stat-value">847</div>
                            <div class="stat-change">100% del personal activo</div>
                        </div>
                        <div class="stat-card">
                            <h4>Anticipos Pagados</h4>
                            <div class="stat-value">$127,458</div>
                            <div class="stat-change">Descontados automáticamente</div>
                        </div>
                    </div>

                    <div class="payroll-section">
                        <h3>Configuración de Décimos (Stored Procedures)</h3>
                        <div class="payroll-grid">
                            <div class="payroll-card">
                                <h4><i class="fas fa-gift"></i> SP_RP_DECIMO_TERCER</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-calendar"></i> Período: 01/12/2023 - 30/11/2024</li>
                                    <li><i class="fas fa-calculator"></i> Base: Suma de ingresos anuales / 12</li>
                                    <li><i class="fas fa-minus-circle"></i> Descuenta anticipos (Clase 167)</li>
                                    <li><i class="fas fa-users"></i> Incluye días acumulados</li>
                                    <li><i class="fas fa-check-circle"></i> Cumplimiento legal Ecuador</li>
                                </ul>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                    Ejecutar Procedimiento
                                </button>
                            </div>

                            <div class="payroll-card">
                                <h4><i class="fas fa-money-bill"></i> SP_RP_DECIMO_CUARTO_QUINTO</h4>
                                <ul class="feature-list">
                                    <li><i class="fas fa-dollar-sign"></i> Base: SBU $460 (2024)</li>
                                    <li><i class="fas fa-calendar-check"></i> Cálculo proporcional por días</li>
                                    <li><i class="fas fa-user-clock"></i> Considera tiempo trabajado</li>
                                    <li><i class="fas fa-file-alt"></i> Genera reportes automáticos</li>
                                    <li><i class="fas fa-shield-alt"></i> Validación de datos</li>
                                </ul>
                                <button class="btn btn-success" style="width: 100%; margin-top: 15px;">
                                    Ejecutar Procedimiento
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="mi-perfil-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Mi Perfil - Portal del Empleado</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="editProfile()">
                                <i class="fas fa-edit"></i> Editar Perfil
                            </button>
                            <button class="btn btn-secondary" onclick="printProfile()">
                                <i class="fas fa-print"></i> Imprimir
                            </button>
                        </div>
                    </div>

                    <div class="employee-profile">
                        <div class="profile-card">
                            <div class="profile-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <h3>MARÍA ELENA GONZÁLEZ</h3>
                            <p style="opacity: 0.9; margin: 10px 0;">Guardia de Seguridad</p>
                            <p style="opacity: 0.8; font-size: 14px;">Código: 001001</p>
                            <p style="opacity: 0.8; font-size: 14px;">Cédula: 1234567890</p>
                            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.3);">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                    <span>Estado:</span>
                                    <span class="status-badge status-active">ACTIVO</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>Ingreso:</span>
                                    <span>15/03/2023</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-info">
                            <div class="tabs">
                                <button class="tab active" onclick="showTab('personal')">Datos Personales</button>
                                <button class="tab" onclick="showTab('laboral')">Información Laboral</button>
                                <button class="tab" onclick="showTab('beneficios')">Beneficios Ecuador</button>
                                <button class="tab" onclick="showTab('contacto')">Contacto</button>
                            </div>

                            <div id="personal-tab" class="tab-content active">
                                <div class="info-grid">
                                    <div class="info-section">
                                        <h4><i class="fas fa-user"></i> Información Personal</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Nombres Completos:</span>
                                            <span class="detail-value">MARÍA ELENA GONZÁLEZ</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Cédula de Identidad:</span>
                                            <span class="detail-value">1234567890</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Fecha de Nacimiento:</span>
                                            <span class="detail-value">15/08/1990</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Edad:</span>
                                            <span class="detail-value">34 años</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Estado Civil:</span>
                                            <span class="detail-value">Casada</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Nacionalidad:</span>
                                            <span class="detail-value">Ecuatoriana</span>
                                        </div>
                                    </div>

                                    <div class="info-section">
                                        <h4><i class="fas fa-map-marker-alt"></i> Dirección</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Dirección Principal:</span>
                                            <span class="detail-value">Av. 6 de Diciembre N50-123 y Av. Orellana</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Sector:</span>
                                            <span class="detail-value">La Floresta</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Ciudad:</span>
                                            <span class="detail-value">Quito</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Provincia:</span>
                                            <span class="detail-value">Pichincha</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="laboral-tab" class="tab-content">
                                <div class="info-grid">
                                    <div class="info-section">
                                        <h4><i class="fas fa-briefcase"></i> Puesto de Trabajo</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Cargo:</span>
                                            <span class="detail-value">Guardia de Seguridad</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Departamento:</span>
                                            <span class="detail-value">001 - Seguridad Empresarial</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Sección:</span>
                                            <span class="detail-value">GUA - Guardias</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Jefe Inmediato:</span>
                                            <span class="detail-value">CARLOS ALBERTO PÉREZ</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Horario:</span>
                                            <span class="detail-value">Rotativo 24x24</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Tipo Contrato:</span>
                                            <span class="detail-value">Indefinido</span>
                                        </div>
                                    </div>

                                    <div class="info-section">
                                        <h4><i class="fas fa-money-bill-wave"></i> Información Salarial</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Sueldo Base:</span>
                                            <span class="detail-value">$460.00</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Tipo de Pago:</span>
                                            <span class="detail-value">1 - Semanal</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Forma de Pago:</span>
                                            <span class="detail-value">Transferencia Bancaria</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Cuenta Bancaria:</span>
                                            <span class="detail-value">****-****-*567</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Banco:</span>
                                            <span class="detail-value">Banco del Pacífico</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="beneficios-tab" class="tab-content">
                                <div class="info-grid">
                                    <div class="info-section">
                                        <h4><i class="fas fa-gift"></i> Décimos y Beneficios</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Décimo Tercer Sueldo:</span>
                                            <span class="detail-value">$287.50 acumulado</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Décimo Cuarto Sueldo:</span>
                                            <span class="detail-value">$230.00 acumulado</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Vacaciones:</span>
                                            <span class="detail-value">15 días pendientes</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Fondos de Reserva:</span>
                                            <span class="detail-value">En proceso (< 1 año)</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Última Liquidación:</span>
                                            <span class="detail-value">No aplica</span>
                                        </div>
                                    </div>

                                    <div class="info-section">
                                        <h4><i class="fas fa-shield-alt"></i> IESS y Seguridad Social</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Número de Afiliación:</span>
                                            <span class="detail-value">1234567890123</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Estado IESS:</span>
                                            <span class="detail-value">Activo</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Aporte Personal:</span>
                                            <span class="detail-value">9.45% ($43.47)</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Aporte Patronal:</span>
                                            <span class="detail-value">12.15% ($55.89)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="contacto-tab" class="tab-content">
                                <div class="info-grid">
                                    <div class="info-section">
                                        <h4><i class="fas fa-phone"></i> Información de Contacto</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Teléfono Principal:</span>
                                            <span class="detail-value">02-2345678</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Celular:</span>
                                            <span class="detail-value">0987654321</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Email Personal:</span>
                                            <span class="detail-value">maria.gonzalez@email.com</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Email Corporativo:</span>
                                            <span class="detail-value">mgonzalez@insevig.com</span>
                                        </div>
                                    </div>

                                    <div class="info-section">
                                        <h4><i class="fas fa-users"></i> Contacto de Emergencia</h4>
                                        <div class="detail-item">
                                            <span class="detail-label">Nombre:</span>
                                            <span class="detail-value">CARLOS GONZÁLEZ</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Parentesco:</span>
                                            <span class="detail-value">Esposo</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Teléfono:</span>
                                            <span class="detail-value">0998765432</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Dirección:</span>
                                            <span class="detail-value">Av. 6 de Diciembre N50-123</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="mis-recibos-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Mis Recibos de Pago</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="generateAnnualReport()">
                                <i class="fas fa-file-pdf"></i> Reporte Anual
                            </button>
                            <button class="btn btn-secondary" onclick="exportPayslips()">
                                <i class="fas fa-download"></i> Exportar Todo
                            </button>
                        </div>
                    </div>

                    <div class="payslip-card" onclick="viewPayslipDetail('2024-12-W2')">
                        <div class="payslip-header">
                            <div class="payslip-period">
                                <i class="fas fa-calendar"></i> Segunda Semana Diciembre 2024
                            </div>
                            <div class="payslip-amount">$127.45</div>
                        </div>
                        <div class="payslip-details">
                            <div class="detail-box">
                                <div class="detail-box-label">Sueldo Base</div>
                                <div class="detail-box-value">$115.00</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Horas Extras</div>
                                <div class="detail-box-value">$25.50</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Descuentos</div>
                                <div class="detail-box-value">-$13.05</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Neto Pagado</div>
                                <div class="detail-box-value">$127.45</div>
                            </div>
                        </div>
                    </div>

                    <div class="payslip-card" onclick="viewPayslipDetail('2024-12-W1')">
                        <div class="payslip-header">
                            <div class="payslip-period">
                                <i class="fas fa-calendar"></i> Primera Semana Diciembre 2024
                            </div>
                            <div class="payslip-amount">$142.80</div>
                        </div>
                        <div class="payslip-details">
                            <div class="detail-box">
                                <div class="detail-box-label">Sueldo Base</div>
                                <div class="detail-box-value">$115.00</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Horas Extras</div>
                                <div class="detail-box-value">$41.25</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Descuentos</div>
                                <div class="detail-box-value">-$13.45</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Neto Pagado</div>
                                <div class="detail-box-value">$142.80</div>
                            </div>
                        </div>
                    </div>

                    <div class="payslip-card" onclick="viewPayslipDetail('2024-11-W4')">
                        <div class="payslip-header">
                            <div class="payslip-period">
                                <i class="fas fa-calendar"></i> Cuarta Semana Noviembre 2024
                            </div>
                            <div class="payslip-amount">$139.15</div>
                        </div>
                        <div class="payslip-details">
                            <div class="detail-box">
                                <div class="detail-box-label">Sueldo Base</div>
                                <div class="detail-box-value">$115.00</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Horas Extras</div>
                                <div class="detail-box-value">$37.80</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Descuentos</div>
                                <div class="detail-box-value">-$13.65</div>
                            </div>
                            <div class="detail-box">
                                <div class="detail-box-label">Neto Pagado</div>
                                <div class="detail-box-value">$139.15</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="solicitudes-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Mis Solicitudes</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="openModal('newRequestModal')">
                                <i class="fas fa-plus"></i> Nueva Solicitud
                            </button>
                            <button class="btn btn-secondary" onclick="viewRequestHistory()">
                                <i class="fas fa-history"></i> Historial
                            </button>
                        </div>
                    </div>

                    <div class="request-form">
                        <h4 style="margin-bottom: 20px; color: #1e3c72;">Crear Nueva Solicitud</h4>
                        <div class="request-grid">
                            <div class="form-group">
                                <label>Tipo de Solicitud</label>
                                <select class="form-control">
                                    <option value="">Seleccionar...</option>
                                    <option value="vacaciones">Solicitud de Vacaciones</option>
                                    <option value="permiso">Permiso Personal</option>
                                    <option value="licencia">Licencia Médica</option>
                                    <option value="anticipo">Anticipo de Sueldo</option>
                                    <option value="certificado">Certificado Laboral</option>
                                    <option value="cambio-datos">Cambio de Datos</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Fecha Inicio</label>
                                <input type="date" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Fecha Fin</label>
                                <input type="date" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Urgencia</label>
                                <select class="form-control">
                                    <option value="normal">Normal</option>
                                    <option value="urgente">Urgente</option>
                                    <option value="muy-urgente">Muy Urgente</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Motivo / Descripción</label>
                            <textarea class="form-control textarea-control" placeholder="Describa detalladamente el motivo de su solicitud..."></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="submitRequest()">
                            <i class="fas fa-paper-plane"></i> Enviar Solicitud
                        </button>
                    </div>

                    <h4 style="margin: 30px 0 20px; color: #1e3c72;">Solicitudes Recientes</h4>

                    <div class="payslip-card">
                        <div class="payslip-header">
                            <div>
                                <h4 style="color: #1e3c72; margin-bottom: 5px;">Solicitud de Vacaciones</h4>
                                <p style="color: #4a5568; font-size: 14px;">Enviado: 28/11/2024</p>
                            </div>
                            <span class="status-badge" style="background: #fff3cd; color: #856404;">PENDIENTE</span>
                        </div>
                        <p style="margin: 10px 0;">Período: 15/12/2024 al 29/12/2024 (15 días)</p>
                        <p style="color: #4a5568; font-size: 14px;">Motivo: Vacaciones familiares fin de año</p>
                    </div>

                    <div class="payslip-card">
                        <div class="payslip-header">
                            <div>
                                <h4 style="color: #1e3c72; margin-bottom: 5px;">Certificado Laboral</h4>
                                <p style="color: #4a5568; font-size: 14px;">Enviado: 20/11/2024</p>
                            </div>
                            <span class="status-badge status-active">APROBADO</span>
                        </div>
                        <p style="margin: 10px 0;">Para: Trámites bancarios</p>
                        <p style="color: #4a5568; font-size: 14px;">Aprobado por: Recursos Humanos</p>
                    </div>
                </div>

                <div id="documentos-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Mis Documentos</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="uploadDocument()">
                                <i class="fas fa-upload"></i> Subir Documento
                            </button>
                            <button class="btn btn-secondary" onclick="downloadAll()">
                                <i class="fas fa-download"></i> Descargar Todo
                            </button>
                        </div>
                    </div>

                    <div class="document-list">
                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <h4>Contrato de Trabajo</h4>
                            <p style="color: #4a5568; margin: 10px 0;">Contrato indefinido firmado el 15/03/2023</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>

                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <h4>Hoja de Vida</h4>
                            <p style="color: #4a5568; margin: 10px 0;">CV actualizado con experiencia laboral</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>

                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <h4>Certificados de Capacitación</h4>
                            <p style="color: #4a5568; margin: 10px 0;">Cursos de seguridad y primeros auxilios</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>

                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-id-card"></i>
                            </div>
                            <h4>Copia de Cédula</h4>
                            <p style="color: #4a5568; margin: 10px 0;">Documento de identificación vigente</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>

                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <h4>Títulos Académicos</h4>
                            <p style="color: #4a5568; margin: 10px 0;">Bachillerato en Ciencias Generales</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>

                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h4>Exámenes Médicos</h4>
                            <p style="color: #4a5568; margin: 10px 0;">Exámenes ocupacionales anuales</p>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-sm btn-primary">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="dashboard-ejecutivo-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Dashboard Ejecutivo</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="refreshDashboard()">
                                <i class="fas fa-sync-alt"></i> Actualizar
                            </button>
                            <button class="btn btn-secondary" onclick="exportDashboard()">
                                <i class="fas fa-file-excel"></i> Exportar
                            </button>
                        </div>
                    </div>

                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-value">847</div>
                            <div class="kpi-label">Empleados Activos</div>
                        </div>
                        <div class="kpi-card" style="background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);">
                            <div class="kpi-value">$426,847</div>
                            <div class="kpi-label">Nómina Mensual</div>
                        </div>
                        <div class="kpi-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <div class="kpi-value">95.2%</div>
                            <div class="kpi-label">Asistencia Promedio</div>
                        </div>
                        <div class="kpi-card" style="background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);">
                            <div class="kpi-value">34</div>
                            <div class="kpi-label">En Vacaciones</div>
                        </div>
                        <div class="kpi-card" style="background: linear-gradient(135deg, #805ad5 0%, #6b46c1 100%);">
                            <div class="kpi-value">156</div>
                            <div class="kpi-label">Turnos Nocturnos</div>
                        </div>
                        <div class="kpi-card" style="background: linear-gradient(135deg, #38b2ac 0%, #319795 100%);">
                            <div class="kpi-value">$89,456</div>
                            <div class="kpi-label">Horas Extras Mes</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h4 style="margin-bottom: 20px; color: #1e3c72;">Distribución por Departamentos</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                            <div style="text-align: center; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">623</h3>
                                <p>Seguridad Empresarial</p>
                                <div style="background: #667eea; height: 100px; border-radius: 5px; margin: 10px 0;"></div>
                                <small style="color: #4a5568;">73.6% del total</small>
                            </div>
                            <div style="text-align: center; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px;">
                                <h3 style="color: #48bb78; margin-bottom: 10px;">124</h3>
                                <p>Seguridad Residencial</p>
                                <div style="background: #48bb78; height: 60px; border-radius: 5px; margin: 10px 0;"></div>
                                <small style="color: #4a5568;">14.6% del total</small>
                            </div>
                            <div style="text-align: center; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px;">
                                <h3 style="color: #ed8936; margin-bottom: 10px;">67</h3>
                                <p>Administración</p>
                                <div style="background: #ed8936; height: 30px; border-radius: 5px; margin: 10px 0;"></div>
                                <small style="color: #4a5568;">7.9% del total</small>
                            </div>
                            <div style="text-align: center; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px;">
                                <h3 style="color: #e53e3e; margin-bottom: 10px;">33</h3>
                                <p>Otros</p>
                                <div style="background: #e53e3e; height: 15px; border-radius: 5px; margin: 10px 0;"></div>
                                <small style="color: #4a5568;">3.9% del total</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="organigrama-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Organigrama INSEVIG CIA. LTDA</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="expandOrgChart()">
                                <i class="fas fa-expand"></i> Expandir
                            </button>
                            <button class="btn btn-secondary" onclick="printOrgChart()">
                                <i class="fas fa-print"></i> Imprimir
                            </button>
                        </div>
                    </div>

                    <div class="org-chart">
                        <div class="org-level">
                            <div class="org-box">
                                <h4>GERENCIA GENERAL</h4>
                                <p>Dr. Fernando Vásquez</p>
                            </div>
                        </div>

                        <div class="org-level">
                            <div class="org-box">
                                <h4>GERENCIA OPERATIVA</h4>
                                <p>Ing. Patricia Torres</p>
                            </div>
                            <div class="org-box">
                                <h4>GERENCIA ADMINISTRATIVA</h4>
                                <p>Lic. Carlos Morales</p>
                            </div>
                        </div>

                        <div class="org-level">
                            <div class="org-box">
                                <h4>JEFE SEGURIDAD</h4>
                                <p>Cpt. Miguel Rodríguez</p>
                            </div>
                            <div class="org-box">
                                <h4>JEFE RECURSOS HUMANOS</h4>
                                <p>Lic. Ana González</p>
                            </div>
                            <div class="org-box">
                                <h4>JEFE CONTABILIDAD</h4>
                                <p>CPA. Luis Pérez</p>
                            </div>
                            <div class="org-box">
                                <h4>JEFE VENTAS</h4>
                                <p>Ing. María López</p>
                            </div>
                        </div>

                        <div class="org-level">
                            <div class="org-box">
                                <h4>SUPERVISORES</h4>
                                <p>24 supervisores activos</p>
                            </div>
                            <div class="org-box">
                                <h4>GUARDIAS SEGURIDAD</h4>
                                <p>623 guardias activos</p>
                            </div>
                            <div class="org-box">
                                <h4>PERSONAL ADMIN.</h4>
                                <p>67 empleados</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="control-tiempo-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Control de Tiempo y Asistencia</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="markAttendance()">
                                <i class="fas fa-clock"></i> Marcar Asistencia
                            </button>
                            <button class="btn btn-secondary" onclick="generateAttendanceReport()">
                                <i class="fas fa-file-alt"></i> Reporte
                            </button>
                        </div>
                    </div>

                    <div class="time-tracking">
                        <div class="time-card">
                            <div class="time-header">
                                <h4>Mi Reloj</h4>
                                <div class="time-status status-in">ENTRADA</div>
                            </div>
                            <div class="time-clock">08:15:23</div>
                            <p style="margin: 10px 0; color: #4a5568;">Último registro: 06:00 AM</p>
                            <button class="btn btn-warning" style="width: 100%;">
                                <i class="fas fa-sign-out-alt"></i> Marcar Salida
                            </button>
                        </div>

                        <div class="time-card">
                            <h4 style="margin-bottom: 15px;">Resumen de Hoy</h4>
                            <div class="detail-item">
                                <span class="detail-label">Hora Entrada:</span>
                                <span class="detail-value">06:00 AM</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Horas Trabajadas:</span>
                                <span class="detail-value">8h 15m</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Horas Extras:</span>
                                <span class="detail-value">0h 15m</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Turno Asignado:</span>
                                <span class="detail-value">06:00 - 18:00</span>
                            </div>
                        </div>

                        <div class="time-card">
                            <h4 style="margin-bottom: 15px;">Resumen Semanal</h4>
                            <div class="detail-item">
                                <span class="detail-label">Total Horas:</span>
                                <span class="detail-value">48h 30m</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Horas Normales:</span>
                                <span class="detail-value">40h 00m</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Horas Extras:</span>
                                <span class="detail-value">8h 30m</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Días Trabajados:</span>
                                <span class="detail-value">6 de 6</span>
                            </div>
                        </div>
                    </div>

                    <h4 style="margin: 30px 0 20px; color: #1e3c72;">Historial de Asistencia</h4>
                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Entrada</th>
                                <th>Salida</th>
                                <th>Horas</th>
                                <th>Extras</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>15/12/2024</td>
                                <td>06:00</td>
                                <td>18:15</td>
                                <td>12h 15m</td>
                                <td>4h 15m</td>
                                <td><span class="status-badge status-active">Completo</span></td>
                            </tr>
                            <tr>
                                <td>14/12/2024</td>
                                <td>06:00</td>
                                <td>18:00</td>
                                <td>12h 00m</td>
                                <td>4h 00m</td>
                                <td><span class="status-badge status-active">Completo</span></td>
                            </tr>
                            <tr>
                                <td>13/12/2024</td>
                                <td>06:05</td>
                                <td>18:00</td>
                                <td>11h 55m</td>
                                <td>3h 55m</td>
                                <td><span class="status-badge status-warning" style="background: #fff3cd; color: #856404;">Tardanza</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="rpemplea-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">Tabla RPEMPLEA - Datos Maestros de Empleados</h2>
                        <div class="quick-actions">
                            <button class="btn btn-primary" onclick="queryRPEMPLEA()">
                                <i class="fas fa-search"></i> Consultar Tabla
                            </button>
                            <button class="btn btn-secondary" onclick="showTableStructure('RPEMPLEA')">
                                <i class="fas fa-table"></i> Estructura
                            </button>
                        </div>
                    </div>

                    <div style="background: #f8fafc; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                        <h4 style="color: #1e3c72; margin-bottom: 15px;">Estructura de la Tabla RPEMPLEA</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                            <div>
                                <h5>Identificación</h5>
                                <ul style="font-size: 13px; color: #4a5568;">
                                    <li>CODEMP (varchar(2)) - Código Empresa</li>
                                    <li>CODSUC (varchar(3)) - Código Sucursal</li>
                                    <li>EMPLEADO (varchar(10)) - Código Empleado</li>
                                    <li>CEDULA (varchar(10)) - Número Cédula</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Datos Personales</h5>
                                <ul style="font-size: 13px; color: #4a5568;">
                                    <li>NOMBRES (varchar(30)) - Nombres</li>
                                    <li>APELLIDOS (varchar(30)) - Apellidos</li>
                                    <li>DIRECCION (varchar(60)) - Dirección</li>
                                    <li>TELEFONO (varchar(15)) - Teléfono</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Datos Laborales</h5>
                                <ul style="font-size: 13px; color: #4a5568;">
                                    <li>CARGO (varchar(3)) - Código Cargo</li>
                                    <li>DEPTO (varchar(3)) - Departamento</li>
                                    <li>SECCION (varchar(3)) - Sección</li>
                                    <li>TIPO_TRA (varchar(1)) - Tipo Trabajador</li>
                                </ul>
                            </div>
                            <div>
                                <h5>Datos Financieros</h5>
                                <ul style="font-size: 13px; color: #4a5568;">
                                    <li>SUELDO (float) - Sueldo Base</li>
                                    <li>ING_EXTRA (float) - Ingresos Extra</li>
                                    <li>DCT_EXTRA (float) - Descuentos Extra</li>
                                    <li>DECIMO3/DECIMO4 (float) - Acumulados</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th>EMPLEADO</th>
                                <th>NOMBRES</th>
                                <th>APELLIDOS</th>
                                <th>CEDULA</th>
                                <th>CARGO</th>
                                <th>DEPTO</th>
                                <th>SUELDO</th>
                                <th>ESTADO</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>001001</td>
                                <td>MARÍA ELENA</td>
                                <td>GONZÁLEZ</td>
                                <td>1234567890</td>
                                <td>GUA</td>
                                <td>001</td>
                                <td>460.00</td>
                                <td>ACT</td>
                            </tr>
                            <tr>
                                <td>001002</td>
                                <td>CARLOS ALBERTO</td>
                                <td>PÉREZ</td>
                                <td>0987654321</td>
                                <td>SUP</td>
                                <td>001</td>
                                <td>650.00</td>
                                <td>ACT</td>
                            </tr>
                            <tr>
                                <td>002001</td>
                                <td>ANA LUCÍA</td>
                                <td>RODRÍGUEZ</td>
                                <td>1122334455</td>
                                <td>GUA</td>
                                <td>002</td>
                                <td>460.00</td>
                                <td>VAC</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal para detalles de empleado -->
    <div id="employeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Detalles del Empleado</h3>
                <span class="close" onclick="closeModal('employeeModal')">&times;</span>
            </div>
            <div id="employeeDetailsContent">
                <div class="employee-details">
                    <div class="detail-group">
                        <h5>Información Personal</h5>
                        <div class="detail-item">
                            <span class="detail-label">Código:</span>
                            <span class="detail-value">001001</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Nombres:</span>
                            <span class="detail-value">MARÍA ELENA</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Apellidos:</span>
                            <span class="detail-value">GONZÁLEZ</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Cédula:</span>
                            <span class="detail-value">1234567890</span>
                        </div>
                    </div>

                    <div class="detail-group">
                        <h5>Datos Laborales</h5>
                        <div class="detail-item">
                            <span class="detail-label">Cargo:</span>
                            <span class="detail-value">Guardia de Seguridad</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Departamento:</span>
                            <span class="detail-value">001 - Seguridad Empresarial</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Sección:</span>
                            <span class="detail-value">GUA - Guardias</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Fecha Ingreso:</span>
                            <span class="detail-value">15/03/2023</span>
                        </div>
                    </div>

                    <div class="detail-group">
                        <h5>Información Salarial</h5>
                        <div class="detail-item">
                            <span class="detail-label">Sueldo Base:</span>
                            <span class="detail-value">$460.00</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Ingresos Extra:</span>
                            <span class="detail-value">$45.00</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Descuentos:</span>
                            <span class="detail-value">$23.50</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Tipo Pago:</span>
                            <span class="detail-value">1 - Semanal</span>
                        </div>
                    </div>

                    <div class="detail-group">
                        <h5>Beneficios Ecuador</h5>
                        <div class="detail-item">
                            <span class="detail-label">Décimo 3° Acumulado:</span>
                            <span class="detail-value">$287.50</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Décimo 4° Acumulado:</span>
                            <span class="detail-value">$230.00</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Vacaciones:</span>
                            <span class="detail-value">15 días pendientes</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Fondos Reserva:</span>
                            <span class="detail-value">En proceso</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionName) {
            // Ocultar todas las secciones
            const sections = ['empleados', 'nomina', 'decimos', 'vacaciones', 'liquidaciones', 'prestamos', 'egresos', 'dotacion', 'reportes', 'configuracion', 'departamentos', 'turnos', 'equipos', 'clientes', 'mi-perfil', 'mis-recibos', 'solicitudes', 'documentos', 'dashboard-ejecutivo', 'organigrama', 'control-tiempo', 'rpemplea', 'rphistor', 'rpcontrl'];
            sections.forEach(section => {
                const element = document.getElementById(section + '-section');
                if (element) {
                    element.style.display = 'none';
                }
            });

            // Mostrar la sección seleccionada
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.style.display = 'block';
            }

            // Actualizar navegación activa
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function showEmployeeDetails(employeeId) {
            console.log('Mostrando detalles del empleado:', employeeId);
            // Aquí se ejecutaría SP_RP_DATOS_EMPLEADO con diferentes FLAGS
            openModal('employeeModal');
        }

        function searchEmployees() {
            console.log('Ejecutando búsqueda de empleados');
            // Aquí se ejecutaría BROWSE_EMPLEADOS_DEPARTAMENTO
            alert('Búsqueda ejecutada. En el sistema real, esto ejecutaría el stored procedure BROWSE_EMPLEADOS_DEPARTAMENTO.');
        }

        function executeStoredProcedure(spName) {
            console.log('Ejecutando stored procedure:', spName);
            alert(`Ejecutando ${spName}. En el sistema real, esto procesaría la nómina usando PowerBuilder 11.5 y SQL Server.`);
        }

        function processMassiveOperation(operation) {
            console.log('Procesando operación masiva:', operation);
            const operations = {
                'import': 'Carga Masiva de Empleados',
                'corrections': 'Correcciones Masivas de Nómina',
                'vacations': 'Procesamiento Masivo de Vacaciones',
                'liquidations': 'Liquidaciones Masivas'
            };
            alert(`Iniciando ${operations[operation]}. Esto utilizaría los stored procedures del sistema SAI.`);
        }

        function calculateDecimos(tipo) {
            const procedures = {
                '13': 'SP_RP_DECIMO_TERCER',
                '14': 'SP_RP_DECIMO_CUARTO_QUINTO'
            };
            console.log(`Calculando Décimo ${tipo}° con ${procedures[tipo]}`);
            alert(`Ejecutando ${procedures[tipo]} para calcular el Décimo ${tipo}° Sueldo según las leyes laborales de Ecuador.`);
        }

        function generatePayroll() {
            console.log('Generando nómina completa');
            alert('Generando nómina. Esto ejecutaría SP_RP_PREPARA_ROL con los parámetros de fecha y tipo de trabajador configurados.');
        }

        function printEmployeeReport(employeeId) {
            console.log('Imprimiendo reporte del empleado:', employeeId);
            alert('Generando reporte. En el sistema real, esto ejecutaría SP_RP_IMPRIME_FICHA_EMPLEADO_TAB.');
        }

        function showTab(tabName) {
            // Ocultar todos los contenidos de tab
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remover clase active de todos los tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Mostrar el contenido seleccionado
            document.getElementById(tabName + '-tab').classList.add('active');

            // Activar el tab seleccionado
            event.target.classList.add('active');
        }

        function editProfile() {
            alert('Función de edición de perfil. En el sistema real, esto permitiría modificar datos personales.');
        }

        function printProfile() {
            alert('Imprimiendo perfil del empleado. En el sistema real, esto generaría un PDF con toda la información.');
        }

        function viewPayslipDetail(payslipId) {
            console.log('Viendo detalle del recibo:', payslipId);
            alert(`Mostrando detalle del recibo ${payslipId}. En el sistema real, esto ejecutaría SP_RP_IMPRIME_DOCUMENTO.`);
        }

        function generateAnnualReport() {
            alert('Generando reporte anual de pagos. Esto utilizaría los stored procedures para compilar todos los recibos del año.');
        }

        function exportPayslips() {
            alert('Exportando todos los recibos de pago en formato PDF/Excel.');
        }

        function submitRequest() {
            alert('Solicitud enviada correctamente. Se ha notificado a Recursos Humanos para su aprobación.');
        }

        function viewRequestHistory() {
            console.log('Mostrando historial completo de solicitudes');
        }

        function uploadDocument() {
            alert('Función de subida de documentos. Permite adjuntar archivos PDF, DOC, JPG.');
        }

        function downloadAll() {
            alert('Descargando todos los documentos en un archivo ZIP.');
        }

        function refreshDashboard() {
            console.log('Actualizando datos del dashboard ejecutivo');
            alert('Dashboard actualizado con datos en tiempo real del sistema SAI.');
        }

        function exportDashboard() {
            alert('Exportando dashboard ejecutivo a Excel con todos los KPIs y gráficos.');
        }

        function expandOrgChart() {
            alert('Expandiendo organigrama. En el sistema real, esto mostraría una vista detallada con todos los empleados.');
        }

        function printOrgChart() {
            alert('Imprimiendo organigrama completo de INSEVIG CIA. LTDA.');
        }

        function markAttendance() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            alert(`Asistencia marcada a las ${timeString}. Registro guardado en el sistema.`);
        }

        function generateAttendanceReport() {
            alert('Generando reporte de asistencia. Esto utilizaría los datos de control de tiempo del sistema SAI.');
        }

        // Cerrar modal al hacer clic fuera de él
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Actualizar reloj en tiempo real
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            const clockElement = document.querySelector('.time-clock');
            if (clockElement) {
                clockElement.textContent = timeString;
            }
        }

        // Simular datos en tiempo real
        setInterval(() => {
            updateClock();
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            console.log(`Sistema SAI activo - ${timeString}`);
        }, 1000);

        console.log('Sistema SAI - PowerBuilder 11.5 + SQL Server iniciado');
        console.log('Stored Procedures disponibles: SP_RP_PREPARA_ROL, SP_RP_DATOS_EMPLEADO, SP_RP_DECIMO_TERCER, SP_RP_DECIMO_CUARTO_QUINTO, BROWSE_EMPLEADOS_DEPARTAMENTO');
        console.log('Tablas principales: RPEMPLEA, RPHISTOR, RPCONTRL, RPINGDES, DBTABLAS');
        console.log('Campos RPEMPLEA: EMPLEADO, NOMBRES, APELLIDOS, CEDULA, CARGO, DEPTO, SECCION, SUELDO, FECHA_ING, TIPO_TRA, TIPO_PGO, ESTADO, ANTICIPO, DCT_EXTRA, ING_EXTRA');
    </script>
</body>
</html>